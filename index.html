<!DOCTYPE html>
<html>
    <head>
        <title>Covid-19: Visualizaciones rápidas  </title>

        <meta charset="UTF-8">
        <meta description ="Visualizaciones Quiniela">
    </head>
    <body>

        <header>
            <h1 style="font-family: Arial, Helvetica, sans-serif;font-size: 65; color: #ff5400; background-color: #00566F; text-align: center;"> Quiniela </h1>
        </header>
        

      

            

            <section>
                <h2> Probabilidad de victoria semanal </h2>

                <div id="defunciones",style="background-color:#d3d3d3;">
                    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
                    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
                    <script>
                        d3.csv("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_deaths_per_million.csv", function(err, rows){
                            function unpack(rows, key) {
                                return rows.map(function(row) { return row[key]; });
                                }
                                var data2 = {
                                type: "bar",
                                name: "Defunciones por millón de habitantes",
                                x: unpack(rows,"date"),
                                y: unpack(rows,"Mexico"),
                                marker: {color:"#E37422"}
                                }

                                var data = [data2];

                                var layout = {
                                title: "Recopilación de JHU: Defunciones por millón de habitantes",
                                yaxis: {
                                    autorange: true,
                                    },
                                plot_bgcolor: "#C1C8E4",
                                paper_bgcolor:"#C1C8E4",
                                };

                                Plotly.newPlot("defunciones", data, layout);
                                })
                    </script>
                    
                    
                </div>
            </section>

            <section>
                <h2>Recopilación de JHU: Estado de vigilancia genómica de variantes</h2>
                <div id="variantes",style="background-color:#d3d3d3;">
                    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
                    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
                    <script>
                        d3.csv("https://raw.githubusercontent.com/rodrigo1889/page-ovidmex/main/Datos/Variants.csv", function(err, rows){
                            function unpack(rows, key) {
                                return rows.map(function(row) { return row[key]; });
                                }
                                var data1 = {
                                    type: "bar",
                                    name: "Otras",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"others"),

                                }
                                var data3 = {
                                    type: "bar",
                                    name: "Omicron",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"Omicron"),

                                }

                                var data2 = {
                                type: "bar",
                                name: "Delta",
                                x: unpack(rows,"date"),
                                y: unpack(rows,"Delta"),
                                }

                                var data4 = {
                                    type: "bar",
                                    name: "B.1.1.519",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"B.1.1.519"),

                                }
                                var data5 = {
                                    type: "bar",
                                    name: "B.1.258",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"B.1.258"),

                                }
                                var data6 = {
                                    type: "bar",
                                    name: "Epsilon",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"Epsilon"),

                                }
                                var data7 = {
                                    type: "bar",
                                    name: "Gamma",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"Gamma"),

                                }
                                var data8 = {
                                    type: "bar",
                                    name: "Lambda",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"Lambda"),

                                }
                                var data9 = {
                                    type: "bar",
                                    name: "Mu",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"Mu"),

                                }
                                var data10 = {
                                    type: "bar",
                                    name: "Alfa",
                                    x: unpack(rows,"date"),
                                    y: unpack(rows,"Alpha"),

                                }


                                var data = [data1,data2,data3,data4,data5,data6,data7,data8,data9,data10];

                                var layout = {
                                title: "Vigilancia de Variantes: Porcentaje de la muestra",
                                barmode: "stack",
                                yaxis: {
                                    autorange: true,
                                    },
                                plot_bgcolor: "#C1C8E4",
                                paper_bgcolor:"#C1C8E4",
                                };

                                Plotly.newPlot("variantes", data, layout);
                                })
                    </script>
                    
                    
                </div>
                





            </section>



            
        </main>
        <footer class="footer">
            <div class="container"> 
                <div class="row">
                    <div class="footer-col">
                        <h4>Sobre mí</h4>
                        <u1>
                            <li><a href="#"></a> </li>
                        </u1>
                    </div>
                    <div class="footer-col">
                        <h4> Links de interés general </h4>
                        <u1>
                            <li><a href="#"></a> </li>
                        </u1>
                    </div>
                    <div class="footer-col">
                        <h4> Datos crudos </h4>
                        <u1>
                            <li><a href="#"></a> </li>
                        </u1>
                    </div>
                </div>
            </div>
        </footer>
       
        

    </body>


</html>
